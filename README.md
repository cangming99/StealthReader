# 📘 SysManual (StealthReader)

> **"It's just a system manual, nothing to see here."**
> 
> 这是一个专为上班族打造的**极简、隐蔽、高定制度**的桌面阅读器。它不存储书籍，而是作为手机端 [Legado (阅读)](https://github.com/gedoor/legado) APP 的桌面扩展，通过局域网实时读取和同步进度。

![Icon](read.ico) 
*(建议使用看似人畜无害的图标进行伪装)*

## ✨ 核心特性

* **👻 幽灵模式 (Ghost Mode)**：鼠标移出窗口范围，界面瞬间变为完全透明（或极低透明度），鼠标移回自动显形。
* **🕵️ 双保险老板键**：
    * **全局热键**：无论焦点在哪里，按下快捷键（如 `Esc` 或 `Alt+Q`）瞬间隐藏/唤出。
    * **本地热键**：解决焦点冲突，确保 100% 响应。
    * **自动同步**：隐藏瞬间自动同步阅读进度回手机。
* **🔄 完美同步**：支持 Legado 3.0+ 标准协议，阅读进度、章节标题双向同步。
* **🎨 高度定制**：字体、字号、文字颜色、背景颜色、透明度均可实时调节，完美融入 IDE 或文档背景。
* **🌊 自适应排版**：窗口随意拖拽大小，文字自动重排，支持整屏翻页，阅读体验如丝般顺滑。
* **📚 独立书架与目录**：独立的暗黑风格窗口用于选书和跳转章节，支持搜索。

## 🛠️ 安装与运行

### 方式一：直接运行源码 (推荐开发者)

1.  **环境准备**：确保已安装 Python 3.x。
2.  **安装依赖**：
    ```bash
    pip install PyQt5 requests keyboard
    ```
3.  **运行**：
    ```bash
    python main.py
    ```

### 方式二：使用打包好的 Exe (推荐用户)

直接双击运行 `SysManual.exe` (或你打包的名字)。
*注意：首次运行时，杀毒软件可能会误报（因为涉及全局热键监听），请添加信任。*

## ⚙️ 配置指南

### 1. 手机端设置
1.  打开 **Legado (阅读)** APP。
2.  进入 `我的` -> `Web服务`。
3.  勾选开启服务，并设置端口（默认 1122）。
4.  **重要**：记下屏幕上显示的 IP 地址（例如 `http://192.168.1.5:1122`）。
5.  *提示：确保电脑和手机连接的是同一个 WiFi。*

### 2. 电脑端连接
1.  运行软件，右键点击窗口，选择 `⚙️ 设置`。
2.  在 `Legado地址` 栏输入手机上的 IP 地址。
3.  点击 `保存并应用`。
4.  右键点击窗口，选择 `🔄 刷新书架`，如果显示书籍数量，即为连接成功。

## 📖 操作说明

| 操作 | 说明 |
| :--- | :--- |
| **右键菜单** | 打开设置、书架、目录、刷新或退出 |
| **拖拽右下角** | 调整窗口大小 (鼠标变为 ↘ 形状) |
| **拖拽窗口** | 按住窗口任意非边缘区域移动位置 |
| **方向键 / 空格** | 向下/向后翻页 (支持 PageUp/PageDown) |
| **老板键 (默认 Esc)** | **立即消失/出现** (可在设置中自定义，如 `Ctrl+Q`) |
| **双击托盘图标** | 显示/隐藏窗口 |

## 📦 如何打包 (Build)

如果你想自己生成 exe 文件，请使用 PyInstaller：

```bash
# 普通打包
pyinstaller -F -w main.py

# 伪装打包 (指定图标和名称)
pyinstaller -F -w -i manual.ico -n "SysManual" main.py